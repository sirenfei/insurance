
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>智能车险|保险科技服务引领者</title>
    <meta name="format-detection" content="telephone=no,email=no,address=no">
    <link href="static/css/commain.css" rel="stylesheet">
    <link href="static/css/coopert.css" rel="stylesheet">
    <link rel="shortcut icon" href="static/images/favicon.ico">
</head>

<body>
    <div class="commain cooperat-com">
        <script src="static/js/header.js"></script>
        <div id="banner"></div>
        <div class="cooperat">
            <div class="content">
                <div class="txt-box">
                    <h1 class="suxian ft-36">合作生态</h1>
                    <p class="ft-18 ff-r w-60">我们长久以来深耕保险行业，目前已经与业内超过80%的保险公司总公司进行深入合作，以科技力量促进产业生态演进和客户服务升级。</p>
                </div>
                <ul class="cooperat-ul cooperat-ul-parent clear" id="cooperatBox">
                </ul>

            </div>
        </div>
        <div class="img-box" style="display:none;">
            <div class="img-box-con">
                <div class="title-box">
                    <div class="title" id="title"></div>
                    <div class="close">X</div>
                </div>
                <ul class="cooperat-ul cooperat-ul-child clear" id="cooperatChildBox">

                </ul>

            </div>
        </div>
        <iframe src="footer.html" class="footer-ifram"></iframe>
    </div>
    <script type="text/javascript" src="static/js/lib/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="static/js/lib/jquery.lazyload.min.js"></script>
    <script type="text/javascript" src="config/js/global.js"></script>
    <script type="text/javascript" src="static/js/menu.js"></script>
    <script type="text/javascript" src="static/js/jquery-acrollBanner.js"></script>

    <script>
        var ajaxUrl = getHosts();
        //初始化banner
        initBanner();
        //初始化合作机构
        initPage();

        function initBanner() {
            var parmeBanner = {
                "pageSize": 100,
                "pageNum": 1,
                "platformCode": "0514",
                "type": "02"
            };
            $.when(getInfo(parmeBanner)).done(function (bannerData) {
                $("#banner").empty();
                if (bannerData && bannerData.length > 0) {
                    $("#banner").scrollBanner({
                        images: bannerData
                    });
                }
            })
        }

        function initPage() {
            var parme = {
                "pageSize": 100,
                "pageNum": 1,
                "platformCode": "0514",
                "type": "01",
                "parentId": 0
            };

            $.when(getInfo(parme)).done(function (listData) {
                $("#cooperatBox").empty();
                if (listData && listData.length > 0) {
                    var htm = ""
                    for (var i = 0, len = listData.length; i < len; i++) {
                        htm += '  <li class="show-more box-show"    kid="' + listData[i].kid + '" linkUrl="' + listData[i].linkUrl + '" name="' + listData[i].name + '" childNum="' + listData[i].leafNode + '"><img src="' +
                            listData[i].imgUrl + '"></li>'
                    }
                    $("#cooperatBox").html(htm);
                    imgClick(listData)
                }
            })
        }

        function imgClick(data) {
            $(".show-more").click(function () {
                $("#cooperatChildBox").empty();
                var kid = $(this).attr("kid"), linkUrl = $(this).attr("linkUrl"), mchName = $(this).attr("name"),
                    childNum = $(this).attr("childNum") || 0;
                if (parseInt(childNum) > 0) {
                    parme = {
                        "pageSize": 100,
                        "pageNum": 1,
                        "platformCode": "0514",
                        "type": "01",
                        "parentId": kid
                    };
                    $.when(getChildren(parme)).done(function (childList) {
                        if (childList && childList.length > 0) {
                            var htm = "";
                            for (var i = 0, len = childList.length; i < len; i++) {
                                htm += '<li class="show-more-child"  url="' + childList[i].linkUrl + '">';
                                htm += '<div class="box-show">';
                                htm += '<img src="' + childList[i].imgUrl + '">';
                                htm += '</div>';
                                htm += '<p class="bxTitle" title="' + childList[i].name + '"> ' + childList[i].name + '</p>';
                                htm += ' </li>';
                            }
                            $("#title").html(mchName);
                            $("#cooperatChildBox").html(htm);
                            $(".img-box").css("display", "flex");
                            $("body").css("overflow", "hidden");
                            $(".show-more-child").click(function () {
                                var logoUrl = $(this).attr("url");
                                if (logoUrl) {
                                    window.open(logoUrl);
                                }
                            });
                        }
                    });
                } else {
                    if (linkUrl) {
                        window.open(linkUrl);
                        return
                    }
                }


            })

        }

        function getChildren(){
            var dfd = $.Deferred();
            const list =[
                {
                    bucketName:"pub-zbh-pro-apus-imgs",
                    commissionRatio:"",
                    createTime:"2021-03-24T09:26:40",
                    endDate:"2025-03-24",
                    imgUrl:"https://pub-zbh-pro-apus-imgs.oss-cn-shanghai-finance-1-pub.aliyuncs.com/ad_img/1616549200173.png",
                    kid:196,
                    leafNode:"0",
                    linkUrl:"https://www.sinosig.com",
                    mchId:"000000000000754",
                    mchName:"阳光财产保险股份有限公司",
                    name:"阳光财产保险股份有限公司上海市闵行支公司",
                    ossFileName:"ad_img/1616549200173.png",
                    parentId:119,
                    platformCode:"0514",
                    platformCodeList:[
                    "0514"
                    ],
                    pointPrice:0.00,
                    promotionPrice:0.00,
                    sortIndex:4,
                    startDate:"2021-03-16",
                    statisticsAdBo:null,
                    statisticsAdBos:[
                    
                    ],
                    status:"00",
                    timePrice:0.00,
                    type:"01",
                    updateTime:"2021-03-24T09:27:50"
                },
                {
                    bucketName:"pub-zbh-pro-apus-imgs",
                    commissionRatio:"",
                    createTime:"2021-02-23T15:02:24",
                    endDate:"2024-02-23",
                    imgUrl:"https://pub-zbh-pro-apus-imgs.oss-cn-shanghai-finance-1-pub.aliyuncs.com/ad_img/1614063743901.png",
                    kid:180,
                    leafNode:"0",
                    linkUrl:"https://www.sinosig.com",
                    mchId:"000000000000754",
                    mchName:"阳光财产保险股份有限公司",
                    name:"阳光财产保险股份有限公司上海市宝山支公司",
                    ossFileName:"ad_img/1614063743901.png",
                    parentId:119,
                    platformCode:"0514",
                    platformCodeList:[
                    "0514"
                    ],
                    pointPrice:0.00,
                    promotionPrice:0.00,
                    sortIndex:1,
                    startDate:"2021-02-16",
                    statisticsAdBo:null,
                    statisticsAdBos:[],
                    status:"00",
                    timePrice:0.00,
                    type:"01",
                    updateTime:null
                },
                {
                    bucketName:"pub-zbh-pro-apus-imgs",
                    commissionRatio:"0",
                    createTime:"2020-11-02T10:47:57",
                    endDate:"2050-11-02",
                    imgUrl:"https://pub-zbh-pro-apus-imgs.oss-cn-shanghai-finance-1-pub.aliyuncs.com/ad_img/Logo-1603957798108-WechatIMG19.png",
                    kid:121,
                    leafNode:"0",
                    linkUrl:"https://www.sinosig.com",
                    mchId:"000000000000754",
                    mchName:"阳光财产保险股份有限公司",
                    name:"阳光财产保险股份有限公司上海市松江支公司",
                    ossFileName:"ad_img/Logo-1603957798108-WechatIMG19.png",
                    parentId:119,
                    platformCode:"0514",
                    platformCodeList:[
                    "0514"],
                    pointPrice:0.00,
                    promotionPrice:0.00,
                    sortIndex:2,
                    startDate:"2020-11-02",
                    statisticsAdBo:null,
                    statisticsAdBos:[],
                    status:"00",
                    timePrice:0.00,
                    type:"01",
                    updateTime:"2020-11-02T10:47:57"
                },
                {
                    bucketName:"pub-zbh-pro-apus-imgs",
                    commissionRatio:"0",
                    createTime:"2020-11-02T10:47:57",
                    endDate:"2050-11-02",
                    imgUrl:"https://pub-zbh-pro-apus-imgs.oss-cn-shanghai-finance-1-pub.aliyuncs.com/ad_img/Logo-1603702758695-WechatIMG6.png",
                    kid:120,
                    leafNode:"0",
                    linkUrl:"https://www.sinosig.com",
                    mchId:"000000000000754",
                    mchName:"阳光财产保险股份有限公司",
                    name:"阳光财产保险股份有限公司北京分公司",
                    ossFileName:"ad_img/Logo-1603702758695-WechatIMG6.png",
                    parentId:119,
                    platformCode:"0514",
                    platformCodeList:[
                    "0514"],
                    pointPrice:0.00,
                    promotionPrice:0.00,
                    sortIndex:1,
                    startDate:"2020-11-02",
                    statisticsAdBo:null,
                    statisticsAdBos:[],
                    status:"00",
                    timePrice:0.00,
                    type:"01",
                    updateTime:"2020-11-02T10:47:57"
                }
            ];
            dfd.resolve(list);
            return dfd.promise();
        };

        //异步执行ajax请求
        function getInfo(parme) {
            var dfd = $.Deferred();
            let yangguang = {
                bucketName:'pub-zbh-pro-apus-imgs',
                commissionRatio: '0',
                createTime:"2020-11-02T10:47:57",
                endDate:"2050-11-02",
                imgUrl:"https://pub-zbh-pro-apus-imgs.oss-cn-shanghai-finance-1-pub.aliyuncs.com/ad_img/Logo-1603702718742-WechatIMG5.png",
                kid:119,
                leafNode:"4",
                linkUrl:"https://www.sinosig.com",
                mchId:"000000000000754",
                mchName:"阳光财产保险股份有限公司",
                name:"阳光保险集团",
                ossFileName:"ad_img/Logo-1603702718742-WechatIMG5.png",
                parentId:0,
                platformCode:"0514",
                platformCodeList:[
                "0514"
                ],
                pointPrice:0.00,
                promotionPrice:0.00,
                sortIndex:1,
                startDate:"2020-11-02",
                statisticsAdBo:null,
                statisticsAdBos:[
                
                ],
                status:"00",
                timePrice:0.00,
                type:"01",
                updateTime:"2020-11-02T10:47:57"
            };
            dfd.resolve([yangguang]);
            return dfd.promise();
        }


        $(".close").click(function () {
            $("#title").html("");
            $("#cooperatChildBox").empty();
            $(".img-box").hide();
            $("body").css("overflow", "auto")

        })
    </script>
</body>

</html>